<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Coding - Nicolas Mallinckrodt</title>
    <link rel="stylesheet" href="project.css">
    <link rel="stylesheet" href="https://use.typekit.net/jlz2zhe.css">
    <link rel="icon" type="image/x-icon" href="util/favicon.ico">
</head>
<body>
<div class="header">
    <div class="text-block">
        <div class="top-text">
            <span class="name">nicolas</span>
            <span class="time" id="time">12:16</span>
        </div>
        <div class="divider"></div>
        <div class="bottom-text">
            <span class="inverted name">mallinckrodt</span>
            <span class="inverted date" id="date">26.08.2024</span>
        </div>
    </div>
</div>
<div class="container">
    <div class="heading-container">
        <div class="dot smoll yellow" id="index">
            <span class="spinning-text spinning-text-small">BACK</span>
        </div>
        <h1>Coding</h1>
    </div>
    <section class="project-content">
        <!-- Projects will be loaded dynamically from projects.json -->
    </section>
    <div class="dots">
        <div class="dot red" id="github.com/Nicolas-Py">
            <span class="spinning-text">Github</span>
        </div>
        <div class="dot yellow" id="nicolas-py.github.io/portfolio-b">
            <span class="spinning-text">Home</span>
        </div>
    </div>
</div>
<div class="dot red small" url="coding">
    <span class="spinning-text spinning-text-small">Coding</span>
</div>
<div class="dot red small" url="design">
    <span class="spinning-text spinning-text-small">Design</span>
</div>
<div class="dot red small" url="photos">
    <span class="spinning-text spinning-text-small">Photos</span>
</div>
<script>
    function updateTime() {
        const now = new Date();
        const day = String(now.getDate()).padStart(2, '0');
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const year = now.getFullYear();
        const formattedDate = `${day}.${month}.${year}`;

        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        const timezoneOffset = now.getTimezoneOffset();
        const timezoneHours = String(Math.abs(timezoneOffset) / 60).padStart(2, '0');
        const timezoneMinutes = String(Math.abs(timezoneOffset) % 60).padStart(2, '0');
        const timezoneSign = timezoneOffset > 0 ? '-' : '+';
        const formattedTime = `${hours}:${minutes}:${seconds} GMT${timezoneSign}${timezoneHours}${timezoneMinutes}`;

        document.getElementById("date").innerHTML = formattedDate;
        document.getElementById("time").innerHTML = formattedTime;
    }

    setInterval(updateTime, 1000);
    updateTime();
</script>
<script>
    document.querySelectorAll('.dot').forEach((dot) => {
        dot.addEventListener('click', function() {
            this.classList.add('dot-big');
            setTimeout(() => {
                const route = this.id;
                if (route === 'index') {
                    window.location.href = 'index.html';
                } else {
                    const baseUrl = 'https://';
                    window.location.href = `${baseUrl}${route}`;
                }
                setTimeout(() => {
                    this.classList.remove('dot-big');
                }, 800);
            }, 400);
        });
    });

    // Add scroll-based spinning animation for mobile
    if (window.innerWidth < 1200) {
        window.addEventListener('scroll', () => {
            const scrollPercentage = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
            const rotation = scrollPercentage * 3.6; // 3.6 degrees per 1% of scroll (360 / 100)
            let multi = 1;
            document.querySelectorAll('.spinning-text-small').forEach((element) => {
                element.style.transform = `rotate(${rotation*multi}deg)`;
                multi*=1.4;
            });
        });
    }
</script>
<script>
function toRoman(num) {
    const romanNumerals = ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X"];
    return romanNumerals[num - 1] || num;
}

function loadProjects() {
    fetch('projects.json')
        .then(response => response.json())
        .then(data => {
            const container = document.querySelector('.project-content');
            container.innerHTML = '';
            data.forEach((project, index) => {
                const headingDiv = document.createElement('div');
                headingDiv.className = 'heading-container';

                const h2 = document.createElement('h2');
                h2.textContent = toRoman(index + 1) + '. ' + project.title;
                headingDiv.appendChild(h2);

                let colorClass = project.link.label.toUpperCase().includes('WEB') ? 'yellow' : 'red';

                const dotElement = document.createElement('div');
                dotElement.className = 'dot smoll ' + colorClass;
                dotElement.id = project.link.url.replace(/^https?:\/\//, '');

                const span = document.createElement('span');
                span.className = 'spinning-text spinning-text-small';
                span.textContent = project.link.label;
                dotElement.appendChild(span);

                dotElement.addEventListener('click', function() {
                    this.classList.add('dot-big');
                    setTimeout(() => {
                        const route = this.id;
                        const baseUrl = 'https://';
                        window.location.href = `${baseUrl}${route}`;
                        setTimeout(() => {
                            this.classList.remove('dot-big');
                        }, 800);
                    }, 400);
                });

                headingDiv.appendChild(dotElement);

                const p = document.createElement('p');
                p.textContent = project.description;

                container.appendChild(headingDiv);
                container.appendChild(p);
            });
        })
        .catch(error => console.error('Error loading projects:', error));
}

document.addEventListener('DOMContentLoaded', loadProjects);
</script>
</body>
</html>
